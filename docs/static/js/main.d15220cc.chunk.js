(this["webpackJsonpchatbot-experiment"]=this["webpackJsonpchatbot-experiment"]||[]).push([[0],{15:function(e,a,t){e.exports=t(51)},20:function(e,a,t){},23:function(e,a,t){},24:function(e,a,t){},51:function(e,a,t){"use strict";t.r(a);var o=t(0),r=t.n(o),n=t(3),c=t.n(n),i=(t(20),t(6)),l=t.n(i),s=t(11),m=t(4),u=(t(22),t(23),t(7)),d=t(2),h=t.n(d),p=(t(24),t(9),t(12)),g=t.n(p),f=function(e){var a=e.chat,t=e.imageUri,o=a&&a.link;return r.a.createElement("div",{style:o?{cursor:"pointer",textDecoration:"underline"}:{},onClick:function(){o&&window.open(a.link)}},t?r.a.createElement("div",{className:"pointer"},r.a.createElement("img",{className:"image",src:t,alt:"chat_img"})):r.a.createElement("div",null),o?r.a.createElement("div",{style:{height:4}}):r.a.createElement("div",null),r.a.createElement("div",{style:o?{paddingLeft:20}:a.text&&"loading..."===a.text?{paddingLeft:20,paddingRight:60}:{}},a.text&&"loading..."===a.text?r.a.createElement(g.a,{type:"ThreeDots",color:"#23549C",height:24,width:40}):a.text&&a.text.includes("\n")?a.text.split("\n").map((function(e){return r.a.createElement("span",{style:{textDecoration:o?"underline":"none"}},e,r.a.createElement("br",null))})):a.text))},b=function(e){var a=e.key,t=e.chat,o=e.isFromMe,n=e.isSystem,c=t.imageUri;return n?r.a.createElement("div",{key:a,className:"chat-balloon text-center"},r.a.createElement("div",{className:"chat-balloon--author chat-system"},t.author),r.a.createElement("div",null,r.a.createElement("div",{className:"chat-balloon--wrapper d-inline-block"},r.a.createElement("div",{className:h()("chat-balloon--box chat-system",{"chat-balloon--box-image":c})},f({chat:t,imageUri:c}))))):!1===o?r.a.createElement("div",{key:a,className:"chat-balloon text-left"},r.a.createElement("div",{className:"chat-balloon--author chat-opponent"},t.author),r.a.createElement("div",null,r.a.createElement("div",{className:"chat-balloon--wrapper d-inline-block"},r.a.createElement("div",{className:h()("chat-balloon--box chat-opponent",{"chat-balloon--box-image":c})},f({chat:t,imageUri:c}))))):r.a.createElement("div",{key:a,className:"chat-balloon text-right"},r.a.createElement("div",{className:"chat-balloon--author"},t.author),r.a.createElement("div",{className:"chat-balloon--wrapper"},r.a.createElement("div",{className:h()("chat-balloon--box",{"chat-balloon--box-image":c})},f({chat:t,imageUri:c}))))},y=[[{author:"SYSTEM",text:"HI. Tom, an automated chat-bot, will be with you shortly to assist you."},{author:"Tom",text:"Hi! I\u2019m Tom, an automated chat-bot. I\u2019m happy to help you with your purchase. We have all different types of cameras, from inexpensive digital compacts to high-end DSLRs.\nIn order to ensure that I make the most suitable recommendations for you, I\u2019d like to ask you some questions."},{author:"Tom",text:"Is this purchase for you or is this a gift?"}],[{author:"Tom",text:"Okay, so, you\u2019d like to buy a camera *meorgift*. I\u2019d be glad to help you find a camera."},{author:"Tom",text:"What type of camera are you looking for? Are you looking for a point-and-shoot camera or DSLR?"}],[{author:"Tom",text:"Okay, so you are looking for a *camera/type* camera *meorgift*. Okay, let me ask another question."},{author:"Tom",text:'Which brand do you prefer? We have "Nikon", "Sony", "Canon".'}],[{author:"Tom",text:"Okay, Great choice!"},{author:"Tom",text:"What is your price range? Over $1700? Or Below $1700?"}],[{author:"Tom",text:"Okay, you\u2019d like to buy a *camera/brand* camera *camera/price* $1700."},{author:"Tom",text:"Please give me a moment, and I\u2019ll look for the best digital camera for you."},{author:"Tom",text:"Based on your preferences, I\u2019ve located the best digital camera. Please see the following details about the digital camera."},{author:"Tom",text:"We at Digital World hope you\u2019ll like this recommendation and that our advice will help you make an informed decision about which camera best fits your needs."},{author:"Tom",text:"*camera-choice-space*"},{author:"Tom",text:"Thank you!"}]],v=t(13),w=t.n(v),k=t(14),x=t.n(k),E=function(e){if("*camera-choice-space*"===(e.text||"").trim()){var a=localStorage.getItem("camera/brand"),t=localStorage.getItem("camera/price");return"sony"===a?"below"===t?(e.text="[Sony] please click this",e.link="https://www.amazon.com/Sony-Cyber-shot-DSC-W800-Digital-Camera/dp/B00KJX57I8/ref=sr_1_3?dchild=1&keywords=Sony+DSCW800%2FB+20.1+MP+Digital+Camera+%28Black&qid=1599960270&sr=8-3",e.imageUri="/image/sony-below-1700.png"):(e.text="[Sony] please click this",e.link="https://www.amazon.com/Sony-Full-Frame-Mirrorless-Interchangeable-Lens-Optical/dp/B07YQJ9392/ref=sr_1_1?dchild=1&keywords=Sony+a7+III+Full-Frame+Mirrorless+Interchangeable-Lens+Camera+Optical+with+3-Inch+LCD%2C+Black+%28ILCE7M3%2FB%29&qid=1599960502&sr=8-1",e.imageUri="/image/sony-over-1700.png"):"nikon"===a?"below"===t?(e.text="[Nikon] please click this",e.link="https://www.amazon.com/Nikon-COOLPIX-Digital-Camera-Built/dp/B08B6HSPXC/ref=sr_1_2?dchild=1&amp;keywords=nikon+under+1700&amp;qid=1612317538&amp;rnid=2941120011&amp;s=electronics&amp;sr=1-2",e.imageUri="/image/nikon-below-v2.png"):(e.text="[Nikon] please click this",e.link="https://www.amazon.com/Nikon-FX-Format-Mirrorless-Camera-Body/dp/B07GPRBGQ2/ref=sr_1_3?dchild=1&keywords=2.+Product%3A+Nikon+Z6+Full+Frame+Mirrorless+Camera+Body&qid=1599960926&sr=8-3",e.imageUri="/image/nikon-over-1700.png"):"canon"===a&&("below"===t?(e.text="[Canon] please click this",e.link="https://www.amazon.com/Canon-PowerShot-Digital-Camera-Accessory/dp/B071NPXMLJ/ref=sr_1_5?dchild=1&keywords=Canon+-+PowerShot+SX540HS+20.3-Megapixel+Digital+Camera+-+Black&qid=1599960773&sr=8-5",e.imageUri="/image/canon-below-1700.png"):(e.text="[Canon] please click this",e.link="https://www.amazon.com/Canon-Mark-Frame-Digital-Camera/dp/B01KURGS9E/ref=sr_1_1?dchild=1&amp;keywords=Canon+DSLR+over+%241700&amp;qid=1612317435&amp;sr=8-1",e.imageUri="/image/canon-over-v2.png")),e}return e.text=(e.text||"").replace("*meorgift*","".concat(localStorage.getItem("meorgift"))),e.text=(e.text||"").replace("*camera/type*","".concat(localStorage.getItem("camera/type")||"DSLR")),e.text=(e.text||"").replace("*camera/price*","".concat(localStorage.getItem("camera/price"))),e.text=e.text.replace("*camera/brand*",w.a.upperFirst(localStorage.getItem("camera/brand")||"")),e},C=function(){var e=Object(o.useRef)(null),a=Object(o.useRef)(null),t=Object(o.useRef)(null),n=Object(o.useState)([]),c=Object(m.a)(n,2),i=c[0],d=c[1],p=Object(o.useState)(!1),g=Object(m.a)(p,2),f=g[0],v=g[1],w=Object(o.useState)(0),k=Object(m.a)(w,2),C=k[0],S=k[1],N=Object(o.useState)(!1),I=Object(m.a)(N,2),O=I[0],T=I[1],L=Object(o.useState)("1"),B=Object(m.a)(L,2),D=B[0],j=B[1],M=function(){var e=Object(s.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=x.a.parse(window.location.search,{ignoreQueryPrefix:!0}))&&a.imageType&&a.imageType.toString&&j(a.imageType.toString());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){M()}),[]),Object(o.useEffect)((function(){!f&&e&&e.current&&e.current.focus()}),[e,f]);var F=Object(o.useCallback)((function(){setTimeout((function(){v(!0),y[0].forEach((function(e,a){setTimeout((function(){d(y[0].slice(0,a+1)),U(),a===y[0].length-1&&v(!1)}),3100*a)}))}),300),T(!0)}),[]),R=Object(o.useCallback)((function(){return T(!1)}),[]),U=function(){setTimeout((function(){return t.current.scrollIntoView({behavior:"smooth"})}),500)},P=Object(o.useCallback)((function(){var a=e&&e.current&&e.current.value;if(a)try{v(!0),e.current.value="","sony"!==a.toLowerCase()&&"nikon"!==a.toLowerCase()&&"canon"!==a.toLowerCase()||localStorage.setItem("camera/brand",a),"cannon"===a.toLowerCase()&&localStorage.setItem("camera/brand","canon");var t=parseInt(a.replace(/\D/g,""),10);(a.toLowerCase().includes("me")||a.toLowerCase().includes("mine")||a.toLowerCase().includes("my"))&&localStorage.setItem("meorgift","for you"),a.toLowerCase().includes("gift")&&localStorage.setItem("meorgift","as a gift"),(a.toLowerCase().includes("dslr")||a.toLowerCase().includes("digital"))&&localStorage.setItem("camera/type","DSLR"),(a.toLowerCase().includes("point")||a.toLowerCase().includes("point and shoot")||a.toLowerCase().includes("point-and-shoot"))&&localStorage.setItem("camera/type","point-and-shoot"),(a.toLowerCase().includes("below")||a.toLowerCase().includes("under")||t<1700&&t>100)&&localStorage.setItem("camera/price","below"),(a.toLowerCase().includes("over")||t>1700&&t<99999999)&&localStorage.setItem("camera/price","over");var o=i.concat({author:"Me",text:a});d(o),U(),setTimeout((function(){var e=o;if(!y[C+1])return v(!1),void U();y[C+1].forEach((function(a,t){setTimeout((function(){var a=y[C+1].slice(0,t+1).map((function(e){return E(e)}));d(e.concat(a)),U(),t===y[C+1].length-1&&v(!1)}),3100*t)})),S(C+1),U()}),3100)}catch(r){console.error(r),v(!1)}}),[C,i,e]);return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-bg"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"mainCamera-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-5 camera-bg"}),r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("div",{className:"mx-5 mt-5 mb-3"},r.a.createElement("h3",{className:"mainMessage"},"Find Your Perfect Camera")),r.a.createElement("div",{className:"mx-5 mt-2 mb-2"},r.a.createElement("h5",{className:"subMessage"},"Start counseling with our AI agent Tom for great recommendations on digital cameras, from point and shoot to DSLR.")),r.a.createElement("p",{className:"mx-5 mt-4 mb-2 text-left"},r.a.createElement("div",{className:"button main-button",onClick:function(){return F()}},"START CONVERSATION"))))),r.a.createElement("div",{className:"row my-5 py-5 mx-0 my-0"},"\xa0")),O&&r.a.createElement("div",{className:"App-container"},r.a.createElement("div",null,r.a.createElement(u.a,{size:"lg",show:O,onHide:function(){return R()},"aria-labelledby":"example-modal-sizes-title-lg",onClick:function(e){return e.stopPropagation()},animation:!1},r.a.createElement(u.a.Body,null,r.a.createElement("div",{className:h()("avatar-image",{"avatar-image2":"2"===D,"avatar-image3":"3"===D,"avatar-image4":"4"===D,"avatar-image5":"5"===D})}),r.a.createElement("div",{ref:a,className:"chat-container"},i.filter((function(e){return e&&e.author})).map((function(e){return E(e)})).map((function(e,a){return r.a.createElement(b,{key:"chat-".concat(a),isSystem:"SYSTEM"===e.author.toUpperCase(),isFromMe:"ME"===e.author.toUpperCase(),chat:e})})),f&&r.a.createElement("div",{className:"chat-processing"},r.a.createElement(b,{key:"chat-loading",isSystem:!1,isFromMe:!1,chat:{text:"loading..."}})),r.a.createElement("div",{ref:t}))),r.a.createElement("div",{className:h()("chat-input-box",{disableInput:f})},r.a.createElement("input",{ref:e,disabled:f,onKeyDown:function(e){"Enter"===e.key&&P()},onSubmit:function(){return P()}}),r.a.createElement("div",{className:"search-btn",onClick:function(){return P()}},r.a.createElement("div",{className:"search-icon"})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.d15220cc.chunk.js.map